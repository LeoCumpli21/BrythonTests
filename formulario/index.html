<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/brython/3.9.1/brython.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/brython/3.9.1/brython_stdlib.js"></script>

    <title>Formulario web</title>
</head>

<body onload=brython()>

    <h1 id="h1">Primer Formulario web</h1>
    <div id="formulario-1"></div>
    

    <script type="text/python" id="formulario0">
        from browser import document, html

        #ENTRADAS
        inp_nombre = html.INPUT(type="text", id="nombre-1", placeholder="Ingrese su nombre")
        inp_apellido = html.INPUT(type="text", id="apellido-1", placeholder="Ingrese su apellido")
        inp_email = html.INPUT(type="text", id="email", placeholder="Ingrese su email")
        inp_asunto = html.INPUT(type="text", id="asunto")
        inp_mensaje = html.TEXTAREA(id="mensaje", cols="60", rows="10")
        
        #ENCABEZADOS
        h2_contacto = html.H2('Cont√°ctanos')
        h5_nombre = html.H5('Nombre')
        h5_apellido = html.H5('Apellido')
        h5_email = html.H5('Email')
        asunto = html.H5('Asunto')
        mensaje = html.H5('Mensaje')

        #BOTONES
        btn_guardar = html.BUTTON("Guardar", id="guardar-btn")
        btn_enviar = html.BUTTON("Enviar", id="enviar-btn")

        document['formulario-1'] <= h2_contacto + html.P('Puede usar este formulario para contactarnos')
        document['formulario-1'] <= h5_nombre + inp_nombre 
        document['formulario-1'] <= h5_apellido + inp_apellido
        document['formulario-1'] <= h5_email + inp_email
        document['formulario-1'] <= asunto + inp_asunto
        document['formulario-1'] <= mensaje + inp_mensaje
        document['formulario-1'] <= html.BR() + btn_guardar + html.BR() + html.BR() +  btn_enviar 


        def guardar_contenido(e):
            global nom_val
            global ape_val
            global email_val
            global asu_val
            global msj_val

            nom_val = document['nombre-1'].value
            ape_val = document['apellido-1'].value
            email_val = document['email'].value
            asu_val = document['asunto'].value
            msj_val = document['mensaje'].value
            print(nom_val, ape_val, email_val, asu_val, msj_val)

        


        def desplegar_contenido(e):
            document['caja'].textContent =  '' 
            document['caja'] <= html.P(f"De: {nom_val} {ape_val}, {email_val}") + html.P("Para: PyZombis") + html.P(f"Asunto: {asu_val}" + html.P(f"Menaje: {msj_val}"))
           
        def enviar_msj(e):
            caja = html.DIV("CARGANDO", style={"text-align": "center"}, id="caja")
            document['formulario-1'] <= caja
            desplegar_contenido(e)
            document['formulario-1'] <= caja


        #variables globales
        nom_val = None
        ape_val = None
        email_val = None
        asu_val  =None
        msj_val = None

        document['guardar-btn'].bind('click', guardar_contenido)
        document['enviar-btn'].bind('click', enviar_msj)
        
    </script>


</body>
</html>
